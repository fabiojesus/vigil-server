# Accounts and Tokens

These data access objects are used to deal with Accounts and tokens.

## Account
The account DAO contains a set of functions for account managing that include:
* **Create** - creates a new account using a unique email, a password, a profileId and a role.
* **Search** - searches for an account with the provided email. Quite usefull to delete unused tokens from the database.
* **Get** - transforms a database record to an Account DAO.
* **Updated** - updates an account record through its Id, with an email, a password and/or a role.
* **Erase** - Deactivates an account. If erase is used, toggle shouldn't be available.
* **List** - Lists all accounts.

## Token
Tokens are used to persist the user's interactions and provide a safe way to prevend unwanted access to certain functions. It's generated by jwt and based on the role, email and 1day existance. It's behaviour is composed by:
* **Create** - sets the token on a database so that even thought the connection is cut off the user an always start it again with the same token. It's triggered by a login action.
* **Search** - Searches for a token record by it's value.
* **Get** - Searches for a token record by it's id. Even though is currently unused, it's kept for consistency purposes
* **Erase** - Erases the token record so that it can't be used if a man in the middle catches it. It's triggered by a logout
* **List** - lists all the tokens